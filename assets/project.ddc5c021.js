var h=Object.defineProperty,y=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var m=(r,t,e)=>t in r?h(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,c=(r,t)=>{for(var e in t||(t={}))N.call(t,e)&&m(r,e,t[e]);if(u)for(var e of u(t))O.call(t,e)&&m(r,e,t[e]);return r},l=(r,t)=>y(r,J(t));import{aM as p,ed as R,aa as a,ab as i,ac as w,cp as j,ec as v,dA as F,dX as $,C as k}from"./vendor.4dd88096.js";function A(r){return{geometryType:p(r[0]),geometries:r.map(t=>t.toJSON())}}function b(r,t,e){const s=R(t);return r.map(f=>{const n=s.fromJSON(f);return n.spatialReference=e,n})}let o=class extends j{constructor(r){super(r),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const r=this.geometries.map(function(s){return s.toJSON()}),t=this.geometries[0],e={};return e.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),e.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),e.geometries=JSON.stringify({geometryType:p(t),geometries:r}),this.transformation&&(e.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(e.transformForward=this.transformForward),e}};a([i()],o.prototype,"geometries",void 0),a([i({json:{read:{source:"outSR"}}})],o.prototype,"outSpatialReference",void 0),a([i()],o.prototype,"transformation",void 0),a([i()],o.prototype,"transformForward",void 0),o=a([w("esri.rest.support.ProjectParameters")],o);const x=o,P=v(x);async function C(r,t,e){t=P(t);const s=F(r),f=c(l(c({},s.query),{f:"json"}),t.toJSON()),n=t.outSpatialReference,d=p(t.geometries[0]),S=$(f,e);return k(s.path+"/project",S).then(({data:{geometries:g}})=>b(g,d,n))}export{x as a,C as n,b as o,A as r};
